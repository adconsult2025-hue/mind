/* CERtoUSER dark/green minimal */
* { box-sizing: border-box; }
:root{
  --bg:#0b1211; --card:#111a18; --soft:#0f1514; --txt:#e6f3ee; --muted:#a5b5b1;
  --accent:#14b85a; --accent2:#1f9d64; --danger:#e05656; --shadow:0 8px 24px rgba(0,0,0,.35);
  --radius:16px;
}
body.dark{
  background: radial-gradient(1200px 800px at 10% 0%, #0e1715, #0b1211);
  color:var(--txt); font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial;
  margin:0; padding:0;
}

/* Header / toolbar */
.app-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;position:sticky;top:0;z-index:5;background:rgba(11,18,17,.8);backdrop-filter:blur(8px);border-bottom:1px solid #14382a;}
.brand{display:flex;gap:12px;align-items:center;}
.logo{width:40px;height:40px;}
.titles h1{margin:0;font-size:20px;}
.titles .subtitle{margin:0;color:var(--muted);font-size:12px;}
.toolbar{display:flex;gap:8px;}
.btn{background:linear-gradient(180deg,var(--accent),var(--accent2));color:#02150b;font-weight:700;text-decoration:none;padding:10px 14px;border-radius:999px;box-shadow:var(--shadow);border:none;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;}
.btn.ghost{background:transparent;color:var(--txt);border:1px solid #1d3c30;}
.btn.danger{background:#ad2e2e;color:#fff;}
.btn:disabled{opacity:.6;cursor:default;}

.container{max-width:1180px;margin:24px auto;padding:0 16px;}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:18px;}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;}
@media (max-width:980px){.grid-2{grid-template-columns:1fr;}}

.card{background:var(--card);border:1px solid #14382a;border-radius:var(--radius);padding:18px;box-shadow:var(--shadow);}
.card.soft{background:var(--soft);}
.hero h2{margin-top:0;font-size:24px;}
label{display:grid;gap:6px;margin-bottom:12px;font-size:14px;}
input,select,textarea{background:#0b1412;color:var(--txt);border:1px solid #1e4133;padding:10px 12px;border-radius:10px;}
.search{min-width:260px;}
.row-between{display:flex;align-items:center;justify-content:space-between;gap:8px;}
.note,.hint{color:var(--muted);font-size:12px;}
.footer{text-align:center;padding:24px;color:var(--muted);}

/* Table base */
.table{display:grid;gap:8px;margin-top:8px;}
.row{
  display:grid;
  grid-template-columns: 1.6fr 1.1fr .9fr .9fr .8fr auto;
  gap:8px; align-items:center;
}
.table .row.header{font-weight:800;letter-spacing:.2px;opacity:.95;}
.table .row.header>div{border-bottom:1px solid #1d3c30;padding-bottom:6px;}
.table .row>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.row small{color:var(--muted);}

/* Badge */
.badge{padding:4px 8px;border-radius:999px;font-size:12px;border:1px solid #1d3c30;}
.badge.green{background:#0e1d17;color:#8de0b1;}
.badge.orange{background:#1c160e;color:#f1ca7a;}
.badge.blue{background:#0e1a21;color:#8cc8ff;}
.badge-pod{
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace;
  letter-spacing:.2px;padding:4px 10px;background:#0e1a21;color:#bfe3ff;border:1px solid #1f3a4a;
}

.actions{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap;}

/* Cronoprogramma */
.progress{display:grid;gap:8px;margin-top:8px;}
.phase{background:#0b1412;border:1px dashed #1e4133;border-radius:12px;padding:10px;}
.phase h4{margin:0 0 6px;font-size:14px;}
.chk{display:flex;align-items:center;gap:8px;padding:4px 0;}
.chk input{transform:scale(1.1);}
.row-prog{display:block;}
.row-prog .card{margin-top:6px;}
.small-muted{color:var(--muted);font-size:12px;}
.flex-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap;}
select.slim{padding:6px 8px;font-size:13px;}

/* Colonne dedicate */
.col-name{white-space:normal;line-height:1.25;}
.col-name strong{font-size:15px;}
.col-name small{font-size:12px;color:var(--muted);}
.col-comune,.col-cabina,.col-ruolo{color:#eaf7f2;}

/* Members (picker CER) */
.members{display:grid;gap:8px;}
.member-pick{display:grid;grid-template-columns:auto 1fr auto auto;gap:8px;align-items:center;padding:8px;border:1px solid #1d3c30;border-radius:10px;background:#0b1412;}
.member-pick label{margin:0;}
.member-pick .role{min-width:140px;}
/* CER list readability */
.col-riparto { white-space: normal; line-height: 1.25; }
.col-quota   { font-weight: 700; }
/* Liste CRM — maggiore leggibilità */
.table{display:grid;gap:10px;margin-top:10px;}
.row{
  display:grid;
  grid-template-columns:
    minmax(260px, 2fr)   /* Cliente */
    minmax(180px, 1.2fr) /* POD   */
    minmax(140px, 1fr)   /* Comune*/
    minmax(140px, 1fr)   /* Cabina*/
    minmax(120px, .9fr)  /* Ruolo */
    auto;                /* Azioni*/
  gap:10px; align-items:center;
}
.table .row.header{font-weight:800;letter-spacing:.2px;opacity:.95;}
.table .row.header>div{border-bottom:1px solid #1d3c30;padding-bottom:6px;}
.table .row>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}

.col-name{white-space:normal;line-height:1.25;}
.col-name strong{font-size:16px;}
.col-name small{font-size:12px;color:var(--muted);}
.col-comune,.col-cabina,.col-ruolo{color:#eaf7f2;}

.badge-pod{
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace;
  letter-spacing:.2px;padding:5px 12px;background:#0e1a21;color:#bfe3ff;border:1px solid #1f3a4a;
}
.row-prog{display:block;}
.row-prog .card{margin-top:8px;}
/* ===== OVERRIDE SPECIFICO PER LISTE CRM e CER ===== */

/* CRM: 6 colonne fisse (Cliente, POD, Comune, Cabina, Ruolo, Azioni) */
#customers-list { display: grid; gap: 10px; }
#customers-list .row{
  display: grid;
  grid-template-columns:
    minmax(260px, 2fr)   /* Cliente */
    minmax(180px, 1.2fr) /* POD */
    minmax(140px, 1fr)   /* Comune */
    minmax(140px, 1fr)   /* Cabina */
    minmax(120px, .9fr)  /* Ruolo */
    auto;                /* Azioni */
  gap: 10px; align-items: center;
}
#customers-list .row.header > div{ border-bottom:1px solid #1d3c30; padding-bottom:6px; }

/* CER: 6 colonne (Denominazione, Cabina, Comune, Riparto, Quota, Azioni) */
#cer-list { display: grid; gap: 10px; }
#cer-list .row{
  display: grid;
  grid-template-columns:
    minmax(260px, 2fr)   /* Denominazione (con CF) */
    minmax(160px, 1fr)   /* Cabina */
    minmax(160px, 1fr)   /* Comune */
    minmax(220px, 1.5fr) /* Riparto (può andare su 2 righe) */
    minmax(100px, .8fr)  /* Quota */
    auto;                /* Azioni */
  gap: 10px; align-items: center;
}
#cer-list .row.header > div{ border-bottom:1px solid #1d3c30; padding-bottom:6px; }

/* Azioni leggibili e su una riga quando c'è spazio */
#customers-list .row .actions,
#cer-list .row .actions { display:flex; gap:8px; flex-wrap:wrap; }
/* ====== OVERRIDES FINALI PER LISTE CRM & CER ====== */

/* Tipografia compatta per le tabelle */
#customers-list .row, #cer-list .row { font-size: 14px; }
#customers-list .row.header, #cer-list .row.header { font-size: 14px; }

/* Pulsanti più piccoli e sempre visibili */
#customers-list .actions .btn, #cer-list .actions .btn {
  padding: 6px 10px;
  font-size: 12px;
  border-radius: 12px;
}

/* CRM: 6 colonne fisse (Cliente | POD | Comune | Cabina | Ruolo | Azioni) */
#customers-list { display: grid; gap: 10px; }
#customers-list .row,
#customers-list .row.header {
  display: grid;
  grid-template-columns:
    minmax(240px, 2fr)   /* Cliente */
    minmax(160px, 1.2fr) /* POD */
    minmax(120px, 1fr)   /* Comune */
    minmax(120px, 1fr)   /* Cabina */
    minmax(110px, .8fr)  /* Ruolo */
    auto;                /* Azioni */
  gap: 10px; align-items: center;
}
#customers-list .row > div { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
#customers-list .row .col-name { white-space: normal; line-height: 1.25; }
#customers-list .row .actions { display:flex; gap:8px; flex-wrap:wrap; }

/* CER: 6 colonne (Denominazione | Cabina | Comune | Riparto | Quota | Azioni) */
#cer-list { display: grid; gap: 10px; }
#cer-list .row,
#cer-list .row.header {
  display: grid;
  grid-template-columns:
    minmax(240px, 2fr)   /* Denominazione */
    minmax(140px, 1fr)   /* Cabina */
    minmax(140px, 1fr)   /* Comune */
    minmax(220px, 1.6fr) /* Riparto */
    minmax(90px, .7fr)   /* Quota */
    auto;                /* Azioni */
  gap: 10px; align-items: center;
}
#cer-list .row > div { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
#cer-list .row .col-name, #cer-list .row .col-riparto { white-space: normal; line-height: 1.25; }
#cer-list .row .actions { display:flex; gap:8px; flex-wrap:wrap; }
